<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç Â§ßÂØåÁøÅÔºöÁí∞ÈÅä‰∏ñÁïåÁõ£ÁçÑÁâà</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700;900&family=Questrial&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #1a1f3a;
            --accent-gold: #f4c430;
            --accent-blue: #4a90e2;
            --accent-red: #e74c3c;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
        }

        body {
            font-family: 'Questrial', 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1b3a 100%);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(74, 144, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(244, 196, 48, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .game-header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 2px solid rgba(244, 196, 48, 0.3);
        }

        .game-title {
            font-family: 'Merriweather', serif;
            font-size: clamp(2rem, 5vw, 4rem);
            background: linear-gradient(135deg, #f4c430 0%, #ffd700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-weight: 900;
            letter-spacing: 2px;
        }

        .game-subtitle {
            font-size: clamp(1rem, 2vw, 1.3rem);
            color: var(--accent-blue);
            font-weight: 600;
        }

        /* Setup Screen */
        .setup-screen {
            background: rgba(26, 31, 58, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
            border: 3px solid rgba(244, 196, 48, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .setup-title {
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 30px;
            text-align: center;
            color: var(--accent-gold);
        }

        .player-setup {
            margin-bottom: 30px;
        }

        .player-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .player-input input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid rgba(74, 144, 226, 0.5);
            background: rgba(10, 14, 39, 0.8);
            color: white;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .player-input input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 15px rgba(244, 196, 48, 0.3);
        }

        .color-picker {
            width: 60px;
            height: 48px;
            border: 2px solid rgba(74, 144, 226, 0.5);
            border-radius: 10px;
            cursor: pointer;
        }

        .remove-player {
            padding: 12px 20px;
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid var(--accent-red);
            color: var(--accent-red);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-player:hover {
            background: var(--accent-red);
            color: white;
        }

        .add-player-btn {
            width: 100%;
            padding: 15px;
            background: rgba(74, 144, 226, 0.2);
            border: 2px dashed var(--accent-blue);
            color: var(--accent-blue);
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .add-player-btn:hover {
            background: var(--accent-blue);
            color: white;
            border-style: solid;
        }

        .start-game-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, var(--accent-gold) 0%, #ffd700 100%);
            border: none;
            color: #0a0e27;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.3rem;
            font-weight: 900;
            margin-top: 20px;
            box-shadow: 0 8px 25px rgba(244, 196, 48, 0.4);
            transition: all 0.3s ease;
        }

        .start-game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(244, 196, 48, 0.6);
        }

        /* Game Layout */
        .game-layout {
            display: none;
        }

        .game-layout.active {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        /* Desktop layout */
        @media (min-width: 1024px) {
            .game-layout.active {
                grid-template-columns: 300px 1fr 350px;
            }
        }

        /* Game Board */
        .board-container {
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid rgba(244, 196, 48, 0.3);
        }

        .board-grid {
            display: grid;
            grid-template-columns: repeat(11, 1fr);
            grid-template-rows: repeat(11, 1fr);
            gap: 0;
            aspect-ratio: 1;
            max-width: 100%;
            margin: 0 auto;
            background: rgba(10, 14, 39, 0.8);
            border: 4px solid rgba(244, 196, 48, 0.5);
            border-radius: 15px;
            overflow: hidden;
        }

        .cell {
            border: 1px solid rgba(74, 144, 226, 0.2);
            background: linear-gradient(135deg, rgba(26, 31, 58, 0.9) 0%, rgba(15, 27, 58, 0.9) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .cell::before {
            content: '';
            position: absolute;
            inset: 0;
            background: inherit;
            filter: brightness(1.2);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .cell:hover::before {
            opacity: 1;
        }

        .corner-cell {
            grid-column: span 2;
            grid-row: span 2;
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-gold) 0%, #ffd700 100%);
            color: #0a0e27;
        }

        .cell-flag {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            margin-bottom: 3px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .cell-name {
            font-size: clamp(0.5rem, 1vw, 0.75rem);
            text-align: center;
            font-weight: 700;
            line-height: 1.2;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }

        .cell-days {
            font-size: clamp(0.4rem, 0.8vw, 0.6rem);
            color: var(--accent-gold);
            margin-top: 2px;
        }

        .player-tokens {
            position: absolute;
            bottom: 3px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 2px;
            flex-wrap: wrap;
            padding: 0 2px;
        }

        .player-token {
            width: clamp(12px, 3vw, 18px);
            height: clamp(12px, 3vw, 18px);
            border-radius: 50%;
            border: 2px solid #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* Sidebar - Players */
        .players-panel {
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid rgba(244, 196, 48, 0.3);
            order: -1;
        }

        @media (min-width: 1024px) {
            .players-panel {
                order: 0;
            }
        }

        .panel-title {
            font-size: 1.3rem;
            font-weight: 900;
            margin-bottom: 20px;
            color: var(--accent-gold);
            text-align: center;
        }

        .player-card {
            background: rgba(10, 14, 39, 0.6);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 12px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
        }

        .player-card.active {
            border-color: var(--accent-gold);
            box-shadow: 0 0 20px rgba(244, 196, 48, 0.4);
            transform: scale(1.03);
        }

        .player-card.in-jail {
            border-color: var(--accent-red);
            background: rgba(231, 76, 60, 0.1);
        }

        .player-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .player-color {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .player-name {
            font-weight: 700;
            font-size: 1.1rem;
            flex: 1;
        }

        .player-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            font-size: 0.9rem;
        }

        .stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.75rem;
            margin-bottom: 3px;
        }

        .stat-value {
            font-weight: 700;
            color: var(--accent-gold);
        }

        .jail-badge {
            background: var(--accent-red);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            display: inline-block;
            margin-top: 8px;
        }

        /* Control Panel */
        .control-panel {
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(244, 196, 48, 0.3);
        }

        .dice-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
        }

        .dice {
            width: clamp(60px, 10vw, 90px);
            height: clamp(60px, 10vw, 90px);
            background: linear-gradient(135deg, #fff 0%, #e0e0e0 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(2rem, 5vw, 3.5rem);
            color: #000;
            box-shadow: 
                0 8px 20px rgba(0,0,0,0.3),
                inset 0 2px 5px rgba(255,255,255,0.5);
            transition: transform 0.3s ease;
            font-weight: 900;
        }

        .dice.rolling {
            animation: roll 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes roll {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(1.2); }
            75% { transform: rotate(270deg) scale(1.1); }
        }

        .button {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 10px;
            font-family: 'Noto Sans TC', sans-serif;
        }

        .button-primary {
            background: linear-gradient(135deg, var(--accent-gold) 0%, #ffd700 100%);
            color: #0a0e27;
            box-shadow: 0 6px 20px rgba(244, 196, 48, 0.4);
        }

        .button-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(244, 196, 48, 0.6);
        }

        .button-secondary {
            background: rgba(74, 144, 226, 0.2);
            border: 2px solid var(--accent-blue);
            color: var(--accent-blue);
        }

        .button-secondary:hover:not(:disabled) {
            background: var(--accent-blue);
            color: white;
        }

        .button-danger {
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid var(--accent-red);
            color: var(--accent-red);
        }

        .button-danger:hover:not(:disabled) {
            background: var(--accent-red);
            color: white;
        }

        .button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        .game-log {
            background: rgba(10, 14, 39, 0.6);
            padding: 15px;
            border-radius: 12px;
            max-height: 250px;
            overflow-y: auto;
            margin-top: 20px;
            border: 1px solid rgba(74, 144, 226, 0.3);
        }

        .log-entry {
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            border-left: 3px solid var(--accent-gold);
            font-size: 0.9rem;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(26, 31, 58, 0.95) 0%, rgba(15, 27, 58, 0.95) 100%);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 25px;
            border: 3px solid rgba(244, 196, 48, 0.5);
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                transform: scale(0.9) translateY(-20px);
                opacity: 0;
            }
            to {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--accent-gold);
            margin-bottom: 25px;
            text-align: center;
        }

        .jail-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .jail-info-card {
            background: rgba(10, 14, 39, 0.6);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(74, 144, 226, 0.3);
            transition: all 0.3s ease;
        }

        .jail-info-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-3px);
        }

        .jail-info-card .flag {
            font-size: 3rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .jail-info-card h4 {
            color: var(--accent-gold);
            margin-bottom: 10px;
            font-size: 1.2rem;
            text-align: center;
        }

        .jail-info-card p {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(10, 14, 39, 0.5);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--accent-gold) 0%, #ffd700 100%);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-gold);
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .setup-screen {
                padding: 25px 20px;
            }

            .board-container {
                padding: 10px;
            }

            .control-panel {
                padding: 20px 15px;
            }

            .players-panel {
                padding: 15px;
            }

            .jail-info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-header">
            <h1 class="game-title">üåç Áí∞ÈÅä‰∏ñÁïåÁõ£ÁçÑÁâà</h1>
            <p class="game-subtitle">40 ÂÄãÂúãÂÆ∂Ôºå40 Â∫ßÁõ£ÁçÑÔºå‰∏ÄÂ†¥ÁòãÁãÇÁöÑÁí∞ÁêÉ‰πãÊóÖ</p>
        </div>

        <!-- Setup Screen -->
        <div class="setup-screen" id="setupScreen">
            <h2 class="setup-title">Ë®≠ÂÆöÁé©ÂÆ∂</h2>
            <div class="player-setup" id="playerSetup">
                <div class="player-input">
                    <input type="text" placeholder="Áé©ÂÆ∂ 1 ÂêçÁ®±" value="Áé©ÂÆ∂ 1">
                    <input type="color" class="color-picker" value="#ff6b6b">
                </div>
                <div class="player-input">
                    <input type="text" placeholder="Áé©ÂÆ∂ 2 ÂêçÁ®±" value="Áé©ÂÆ∂ 2">
                    <input type="color" class="color-picker" value="#4ecdc4">
                </div>
            </div>
            <button class="add-player-btn" onclick="addPlayer()">‚ûï Êñ∞Â¢ûÁé©ÂÆ∂ (ÊúÄÂ§ö 6 ‰∫∫)</button>
            <button class="start-game-btn" onclick="startGame()">üéÆ ÈñãÂßãÈÅäÊà≤</button>
        </div>

        <!-- Game Layout -->
        <div class="game-layout" id="gameLayout">
            <!-- Players Sidebar -->
            <div class="players-panel">
                <h3 class="panel-title">üë• Áé©ÂÆ∂</h3>
                <div id="playersContainer"></div>
            </div>

            <!-- Game Board -->
            <div class="board-container">
                <div class="board-grid" id="boardGrid"></div>
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <h3 class="panel-title">üéÆ ÊéßÂà∂Èù¢Êùø</h3>
                
                <div class="dice-container">
                    <div class="dice" id="dice1">?</div>
                    <div class="dice" id="dice2">?</div>
                </div>

                <button class="button button-primary" id="rollBtn" onclick="rollDice()">
                    üé≤ Êì≤È™∞Â≠ê
                </button>
                <button class="button button-secondary" id="escapeBtn" onclick="tryEscape()" disabled>
                    üîì ÂòóË©¶ÈÄÉÁçÑ
                </button>
                <button class="button button-secondary" id="bailBtn" onclick="payBail()" disabled>
                    üí∞ ‰ªò‰øùÈáãÈáë
                </button>
                <button class="button button-danger" onclick="showJailInfo()">
                    üó∫Ô∏è Áõ£ÁçÑË≥áË®ä
                </button>

                <div class="game-log" id="gameLog"></div>
            </div>
        </div>
    </div>

    <!-- Jail Info Modal -->
    <div class="modal" id="jailModal">
        <div class="modal-content">
            <h2 class="modal-title">üåç 40 ÂÄãÂúãÂÆ∂Áõ£ÁçÑ</h2>
            <div class="jail-info-grid" id="jailInfoGrid"></div>
            <button class="button button-primary" onclick="closeJailInfo()" style="margin-top: 25px;">
                ÈóúÈñâ
            </button>
        </div>
    </div>

    <script>
        // Country-themed jails (40 countries)
        const countryJails = [
            { country: 'Êó•Êú¨', flag: 'üáØüáµ', special: 'zen', days: 3, desc: 'Á¶™ÊÑèÁõ£ÁçÑÔºöÊØèÂ§©ÂÜ•ÊÉ≥Áç≤Âæó $300 ÂøÉÈùàË£úÂä©', bg: 'linear-gradient(135deg, #ff6b9d 0%, #c44569 100%)' },
            { country: 'ÁæéÂúã', flag: 'üá∫üá∏', special: 'capitalist', days: 3, desc: 'Ë≥áÊú¨‰∏ªÁæ©Áâ¢ÊàøÔºöÂèØ‰ªò $2,000 Ë≤∑ÈÄöÂæãÂ∏´Âá∫ÁçÑ', bg: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' },
            { country: 'Ê≥ïÂúã', flag: 'üá´üá∑', special: 'romantic', days: 2, desc: 'Êµ™Êº´Áõ£ÁçÑÔºöÊ∏õÂàë 1 Â§©ÔºåÂõ†ÁÇ∫ÊÑõËàáËá™Áî±', bg: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)' },
            { country: 'Ëã±Âúã', flag: 'üá¨üáß', special: 'gentleman', days: 4, desc: 'Á¥≥Â£´Áõ£ÁçÑÔºö+1 Â§©Ôºå‰ΩÜÂá∫ÁçÑÁç≤Âæó $1,500', bg: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)' },
            { country: 'Âæ∑Âúã', flag: 'üá©üá™', special: 'efficient', days: 3, desc: 'È´òÊïàÁõ£ÁçÑÔºöÊ∫ñÊôÇ 3 Â§©ÔºåÁµï‰∏çÂ§ö‰πü‰∏çÂ∞ë', bg: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)' },
            { country: 'Áæ©Â§ßÂà©', flag: 'üáÆüáπ', special: 'pizza', days: 3, desc: 'Êä´Ëñ©Áõ£ÁçÑÔºöÊØèÂ§©Êèê‰æõÁæéÈ£üÔºåÂøÉÊÉÖ +100%', bg: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)' },
            { country: 'Ë•øÁè≠Áâô', flag: 'üá™üá∏', special: 'fiesta', days: 2, desc: 'Ê¥æÂ∞çÁõ£ÁçÑÔºöÈñãÂøÉÂà∞ÂøòË®òÊôÇÈñìÔºåÂè™Âùê 2 Â§©', bg: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)' },
            { country: 'Ëç∑Ëò≠', flag: 'üá≥üá±', special: 'liberal', days: 3, desc: 'Ëá™Áî±Áõ£ÁçÑÔºöÂèØÈÅ∏Êìá‰ªò $3,000 ÊèêÊó©Âá∫ÁçÑ', bg: 'linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)' },
            { country: 'ÁëûÂ£´', flag: 'üá®üá≠', special: 'neutral', days: 3, desc: '‰∏≠Á´ãÁõ£ÁçÑÔºö‰∏çÂèóÂÖ∂‰ªñÁé©ÂÆ∂ÊäÄËÉΩÂΩ±Èüø', bg: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)' },
            { country: 'ÁëûÂÖ∏', flag: 'üá∏üá™', special: 'welfare', days: 3, desc: 'Á¶èÂà©Áõ£ÁçÑÔºöÊØèÂ§©È†ò $500 Á§æÊúÉÁ¶èÂà©', bg: 'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)' },
            { country: 'Êå™Â®Å', flag: 'üá≥üá¥', special: 'luxury', days: 3, desc: 'Ë±™ËèØÁõ£ÁçÑÔºöËàíÈÅ©Âà∞‰∏çÊÉ≥Âá∫ÁçÑÔºå‰ΩÜË¶Å‰ªò $400/Â§©', bg: 'linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%)' },
            { country: '‰øÑÁæÖÊñØ', flag: 'üá∑üá∫', special: 'siberia', days: 5, desc: 'Ë•ø‰ºØÂà©‰∫ûÁõ£ÁçÑÔºöÊ•µÂØí‰πãÂú∞ÔºåÂ§öÂùê 2 Â§©', bg: 'linear-gradient(135deg, #0f0f0f 0%, #2d3561 100%)' },
            { country: '‰∏≠Âúã', flag: 'üá®üá≥', special: 'greatwall', days: 3, desc: 'Èï∑ÂüéÁõ£ÁçÑÔºöÂá∫ÁçÑÂæåÂÇ≥ÈÄÅÂà∞‰ªªÊÑè‰ΩçÁΩÆ', bg: 'linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)' },
            { country: 'ÈüìÂúã', flag: 'üá∞üá∑', special: 'kpop', days: 2, desc: 'K-POP Áõ£ÁçÑÔºöÂî±Ê≠åË∑≥ËàûÔºåÊôÇÈñìÈÅéË∂ÖÂø´', bg: 'linear-gradient(135deg, #f857a6 0%, #ff5858 100%)' },
            { country: 'Ê≥∞Âúã', flag: 'üáπüá≠', special: 'temple', days: 3, desc: 'ÂØ∫ÂªüÁõ£ÁçÑÔºöÂèØÈ™∞È™∞Â≠êÁ•àÁ¶èÔºå6 = Á´ãÂç≥Âá∫ÁçÑ', bg: 'linear-gradient(135deg, #ffd89b 0%, #19547b 100%)' },
            { country: 'Âç∞Â∫¶', flag: 'üáÆüá≥', special: 'yoga', days: 3, desc: 'Áëú‰ºΩÁõ£ÁçÑÔºöÊØèÂ§©Á∑¥Áëú‰ºΩÔºåÁç≤Âæó $400', bg: 'linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)' },
            { country: 'Êæ≥Ê¥≤', flag: 'üá¶üá∫', special: 'outback', days: 3, desc: 'ÂÖßÈô∏Áõ£ÁçÑÔºöÈáéÂ§ñÊ±ÇÁîüÔºåÂá∫ÁçÑ +$1,000', bg: 'linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)' },
            { country: 'Â∑¥Ë•ø', flag: 'üáßüá∑', special: 'carnival', days: 2, desc: 'ÂòâÂπ¥ËèØÁõ£ÁçÑÔºöÂ§©Â§©ÁãÇÊ≠°ÔºåÊ∏õÂàë 1 Â§©', bg: 'linear-gradient(135deg, #fdeb71 0%, #f8d800 100%)' },
            { country: 'ÈòøÊ†πÂª∑', flag: 'üá¶üá∑', special: 'tango', days: 3, desc: 'Êé¢ÊààÁõ£ÁçÑÔºöË∑≥ËàûËß£ÊÇ∂ÔºåÂøÉÊÉÖÊÑâÊÇÖ', bg: 'linear-gradient(135deg, #fa8bff 0%, #2bd2ff 100%)' },
            { country: 'Â¢®Ë•øÂì•', flag: 'üá≤üáΩ', special: 'taco', days: 3, desc: 'Taco Áõ£ÁçÑÔºöÁæéÈ£üÂ§©Â†ÇÔºå‰ΩÜÊúÉÁ†¥Áî¢ -$800', bg: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)' },
            { country: 'Âä†ÊãøÂ§ß', flag: 'üá®üá¶', special: 'polite', days: 2, desc: 'Á¶ÆË≤åÁõ£ÁçÑÔºöÂ§™ÂÆ¢Ê∞£‰∫ÜÔºåÊèêÊó©Êîæ‰Ω†Ëµ∞', bg: 'linear-gradient(135deg, #ff6a00 0%, #ee0979 100%)' },
            { country: 'ÂüÉÂèä', flag: 'üá™üá¨', special: 'pyramid', days: 4, desc: 'ÈáëÂ≠óÂ°îÁõ£ÁçÑÔºöÂè§ËÄÅË©õÂííÔºå+1 Â§©', bg: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)' },
            { country: 'Â∏åËáò', flag: 'üá¨üá∑', special: 'philosophy', days: 3, desc: 'Âì≤Â≠∏Áõ£ÁçÑÔºöÊÄùËÄÉ‰∫∫ÁîüÔºåÁç≤ÂæóÊô∫ÊÖß +$600', bg: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)' },
            { country: 'ÂúüËÄ≥ÂÖ∂', flag: 'üáπüá∑', special: 'bazaar', days: 3, desc: 'Â∏ÇÈõÜÁõ£ÁçÑÔºöÂèØËä± $1,500 Ë≤∑ÈÄöÂÆàË°õ', bg: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)' },
            { country: 'Êñ∞Âä†Âù°', flag: 'üá∏üá¨', special: 'strict', days: 4, desc: 'Âö¥Ê†ºÁõ£ÁçÑÔºöÊ≥ïÂæãÂö¥ÊòéÔºåÂ§öÂùê 1 Â§©', bg: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)' },
            { country: 'È¶¨‰æÜË•ø‰∫û', flag: 'üá≤üáæ', special: 'diversity', days: 3, desc: 'Â§öÂÖÉÁõ£ÁçÑÔºöÈö®Ê©üÁç≤Âæó $300-$800', bg: 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)' },
            { country: 'Ë∂äÂçó', flag: 'üáªüá≥', special: 'coffee', days: 2, desc: 'ÂíñÂï°Áõ£ÁçÑÔºöÊèêÁ•ûÈÜíËÖ¶ÔºåÊ∏õÂàë 1 Â§©', bg: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)' },
            { country: 'Ëè≤ÂæãË≥ì', flag: 'üáµüá≠', special: 'island', days: 3, desc: 'Â≥∂Â∂ºÁõ£ÁçÑÔºöÁÜ±Â∏∂Â§©Â†ÇÔºåÂøÉÊÉÖÊÑâÂø´', bg: 'linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%)' },
            { country: 'ÂçóÈùû', flag: 'üáøüá¶', special: 'safari', days: 3, desc: 'ÁçµÈÅäÁõ£ÁçÑÔºöÂá∫ÁçÑÂæåÁç≤Âæó $1,200', bg: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)' },
            { country: 'ËÇØ‰∫û', flag: 'üá∞üá™', special: 'wildlife', days: 3, desc: 'ÈáéÁîüÂãïÁâ©Áõ£ÁçÑÔºöËàáÂãïÁâ©ÁÇ∫‰ºç', bg: 'linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)' },
            { country: 'Á¥êË•øËò≠', flag: 'üá≥üáø', special: 'hobbit', days: 2, desc: 'ÂìàÊØî‰∫∫Áõ£ÁçÑÔºöÂ∞èËÄåÊ∫´È¶®ÔºåÊ∏õÂàë 1 Â§©', bg: 'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)' },
            { country: 'ÂÜ∞Â≥∂', flag: 'üáÆüá∏', special: 'aurora', days: 3, desc: 'Ê•µÂÖâÁõ£ÁçÑÔºöÁæéÊôØÁõ∏‰º¥ÔºåÂøÉÈùàÂØåË∂≥ +$500', bg: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)' },
            { country: 'ÊÑõÁàæËò≠', flag: 'üáÆüá™', special: 'lucky', days: 2, desc: 'Âπ∏ÈÅãÁõ£ÁçÑÔºöÂõõËëâËçâÁ•ùÁ¶èÔºåÊ∏õÂàë 1 Â§©', bg: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)' },
            { country: 'Ëë°ËêÑÁâô', flag: 'üáµüáπ', special: 'explorer', days: 3, desc: 'Êé¢Èö™ÂÆ∂Áõ£ÁçÑÔºöÂá∫ÁçÑÂæåÂâçÈÄ≤ 3 Ê†º', bg: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)' },
            { country: 'Ê≥¢Ëò≠', flag: 'üáµüá±', special: 'vodka', days: 3, desc: '‰ºèÁâπÂä†Áõ£ÁçÑÔºöÂñùÂà∞Êñ∑ÁâáÔºåÊôÇÈñìÈÅéÂæàÂø´', bg: 'linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)' },
            { country: 'ÈòøËÅØÈÖã', flag: 'üá¶üá™', special: 'gold', days: 3, desc: 'ÈªÉÈáëÁõ£ÁçÑÔºöÂ•¢ËèØËá≥Ê•µÔºå‰ΩÜË¶Å‰ªò $1,000/Â§©', bg: 'linear-gradient(135deg, #fdeb71 0%, #f8d800 100%)' },
            { country: '‰ª•Ëâ≤Âàó', flag: 'üáÆüá±', special: 'tech', days: 3, desc: 'ÁßëÊäÄÁõ£ÁçÑÔºöÁî® AI Ê∏õÂàëÔºå‰ªò $2,500 Âá∫ÁçÑ', bg: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' },
            { country: 'Êô∫Âà©', flag: 'üá®üá±', special: 'wine', days: 3, desc: 'Ëë°ËêÑÈÖíÁõ£ÁçÑÔºöÂìÅÈÖíÂ∫¶Êó•ÔºåÁç≤Âæó $700', bg: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)' },
            { country: 'ÁßòÈ≠Ø', flag: 'üáµüá™', special: 'inca', days: 4, desc: 'Âç∞Âä†Áõ£ÁçÑÔºöÂè§ÊñáÊòéÂäõÈáèÔºå+1 Â§©‰ΩÜ +$1,500', bg: 'linear-gradient(135deg, #ffd89b 0%, #19547b 100%)' },
            { country: 'Âè§Â∑¥', flag: 'üá®üá∫', special: 'cigar', days: 3, desc: 'Èõ™ËåÑÁõ£ÁçÑÔºöÊÇ†ÈñíËá™Âú®ÔºåÊôÇÈñìÈùúÊ≠¢', bg: 'linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)' }
        ];

        // Game state
        let gameState = {
            players: [],
            currentPlayerIndex: 0,
            turn: 1,
            boardCells: []
        };

        // Add player to setup
        function addPlayer() {
            const setup = document.getElementById('playerSetup');
            const playerCount = setup.children.length;
            
            if (playerCount >= 6) {
                alert('ÊúÄÂ§öÂè™ËÉΩ 6 ‰ΩçÁé©ÂÆ∂ÔºÅ');
                return;
            }

            const colors = ['#95e1d3', '#f38181', '#ffd93d', '#6c5ce7', '#fd79a8', '#fdcb6e'];
            const div = document.createElement('div');
            div.className = 'player-input';
            div.innerHTML = `
                <input type="text" placeholder="Áé©ÂÆ∂ ${playerCount + 1} ÂêçÁ®±" value="Áé©ÂÆ∂ ${playerCount + 1}">
                <input type="color" class="color-picker" value="${colors[playerCount % colors.length]}">
                <button class="remove-player" onclick="this.parentElement.remove()">‚úï</button>
            `;
            setup.appendChild(div);
        }

        // Start game
        function startGame() {
            const inputs = document.querySelectorAll('.player-input');
            gameState.players = Array.from(inputs).map((input, index) => ({
                id: index,
                name: input.querySelector('input[type="text"]').value || `Áé©ÂÆ∂ ${index + 1}`,
                color: input.querySelector('input[type="color"]').value,
                position: 0,
                money: 20000,
                inJail: false,
                jailDaysLeft: 0,
                jailType: null
            }));

            if (gameState.players.length < 2) {
                alert('Ëá≥Â∞ëÈúÄË¶Å 2 ‰ΩçÁé©ÂÆ∂ÔºÅ');
                return;
            }

            document.getElementById('setupScreen').style.display = 'none';
            document.getElementById('gameLayout').classList.add('active');
            
            initBoard();
            updatePlayersUI();
            addLog('üéÆ ÈÅäÊà≤ÈñãÂßãÔºÅÊ≠°Ëøé‰æÜÂà∞Áí∞ÈÅä‰∏ñÁïåÁõ£ÁçÑÁâà');
        }

        // Initialize board
        function initBoard() {
            const grid = document.getElementById('boardGrid');
            grid.innerHTML = '';
            gameState.boardCells = [];

            // Create 40 cells arranged around the board
            const positions = [];
            
            // Bottom row (0-10)
            for (let i = 0; i <= 10; i++) {
                positions.push({
                    gridColumn: i === 0 ? '1 / 3' : (i === 10 ? '11 / 13' : i + 1),
                    gridRow: i === 0 ? '11 / 13' : (i === 10 ? '11 / 13' : 11),
                    isCorner: i === 0 || i === 10
                });
            }

            // Right column (11-19)
            for (let i = 1; i < 10; i++) {
                positions.push({
                    gridColumn: 11,
                    gridRow: 11 - i,
                    isCorner: false
                });
            }

            // Top row (20-29)
            for (let i = 10; i >= 1; i--) {
                positions.push({
                    gridColumn: i,
                    gridRow: 1,
                    isCorner: false
                });
            }

            // Left column (30-39)
            for (let i = 1; i < 10; i++) {
                positions.push({
                    gridColumn: 1,
                    gridRow: i + 1,
                    isCorner: false
                });
            }

            positions.forEach((pos, index) => {
                const div = document.createElement('div');
                div.className = 'cell';
                div.style.gridColumn = pos.gridColumn;
                div.style.gridRow = pos.gridRow;
                div.id = `cell-${index}`;

                if (index === 0) {
                    div.classList.add('corner-cell');
                    div.innerHTML = `
                        <div style="font-size: clamp(2rem, 4vw, 3rem);">üèÅ</div>
                        <div style="font-weight: 900;">START</div>
                    `;
                    gameState.boardCells.push({ position: index, type: 'start' });
                } else {
                    const jail = countryJails[(index - 1) % countryJails.length];
                    div.style.background = jail.bg;
                    div.innerHTML = `
                        <div class="cell-flag">${jail.flag}</div>
                        <div class="cell-name">${jail.country}Áõ£ÁçÑ</div>
                        <div class="cell-days">${jail.days}Â§©</div>
                        <div class="player-tokens"></div>
                    `;
                    gameState.boardCells.push({ position: index, ...jail });
                }

                grid.appendChild(div);
            });

            updatePlayerPositions();
        }

        // Update player positions on board
        function updatePlayerPositions() {
            document.querySelectorAll('.player-tokens').forEach(el => el.innerHTML = '');
            
            gameState.players.forEach(player => {
                const cell = document.getElementById(`cell-${player.position}`);
                if (cell) {
                    const tokensContainer = cell.querySelector('.player-tokens');
                    if (tokensContainer) {
                        const token = document.createElement('div');
                        token.className = 'player-token';
                        token.style.background = player.color;
                        token.title = player.name;
                        tokensContainer.appendChild(token);
                    }
                }
            });
        }

        // Update players UI
        function updatePlayersUI() {
            const container = document.getElementById('playersContainer');
            container.innerHTML = gameState.players.map((player, index) => `
                <div class="player-card ${index === gameState.currentPlayerIndex ? 'active' : ''} ${player.inJail ? 'in-jail' : ''}">
                    <div class="player-header">
                        <div class="player-color" style="background: ${player.color};"></div>
                        <div class="player-name">${player.name}</div>
                    </div>
                    <div class="player-stats">
                        <div class="stat">
                            <div class="stat-label">ÁèæÈáë</div>
                            <div class="stat-value">$${player.money.toLocaleString()}</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">‰ΩçÁΩÆ</div>
                            <div class="stat-value">#${player.position}</div>
                        </div>
                    </div>
                    ${player.inJail ? `
                        <div class="jail-badge">
                            üîí ${player.jailType.country} - Ââ©${player.jailDaysLeft}Â§©
                        </div>
                    ` : ''}
                </div>
            `).join('');

            // Update control buttons
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            document.getElementById('rollBtn').disabled = currentPlayer.inJail;
            document.getElementById('escapeBtn').disabled = !currentPlayer.inJail;
            document.getElementById('bailBtn').disabled = !currentPlayer.inJail;
        }

        // Roll dice
        function rollDice() {
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            
            if (currentPlayer.inJail) {
                addLog(`‚ùå ${currentPlayer.name} Âú®Áõ£ÁçÑ‰∏≠ÔºåÁÑ°Ê≥ïÁßªÂãïÔºÅ`);
                return;
            }

            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            const total = dice1 + dice2;

            // Animate dice
            const dice1El = document.getElementById('dice1');
            const dice2El = document.getElementById('dice2');
            dice1El.classList.add('rolling');
            dice2El.classList.add('rolling');

            setTimeout(() => {
                dice1El.textContent = dice1;
                dice2El.textContent = dice2;
                dice1El.classList.remove('rolling');
                dice2El.classList.remove('rolling');

                // Move player
                currentPlayer.position = (currentPlayer.position + total) % 40;
                
                addLog(`üé≤ ${currentPlayer.name} Êì≤Âá∫ ${dice1} + ${dice2} = ${total}`);
                
                updatePlayerPositions();
                checkLanding();
                
                // Next turn
                setTimeout(() => {
                    nextTurn();
                }, 1500);
            }, 600);
        }

        // Check landing
        function checkLanding() {
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            const cell = gameState.boardCells[currentPlayer.position];

            if (cell.type === 'start') {
                currentPlayer.money += 2000;
                addLog(`üèÅ ${currentPlayer.name} Á∂ìÈÅé STARTÔºåÁç≤Âæó $2,000ÔºÅ`);
                return;
            }

            // Enter jail
            enterJail(currentPlayer, cell);
        }

        // Enter jail
        function enterJail(player, jail) {
            player.inJail = true;
            player.jailType = jail;
            player.jailDaysLeft = jail.days;

            addLog(`üîí ${player.name} ÈÄ≤ÂÖ• ${jail.flag} ${jail.country}Áõ£ÁçÑÔºÅ${jail.desc}`);
            
            // Apply special effects on entry
            if (jail.special === 'capitalist' || jail.special === 'liberal' || jail.special === 'bazaar' || 
                jail.special === 'tech' || jail.special === 'gold') {
                // These can pay to get out immediately
            }
            
            updatePlayersUI();
        }

        // Try escape
        function tryEscape() {
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            
            if (!currentPlayer.inJail) return;

            const roll = Math.floor(Math.random() * 6) + 1;
            const dice1El = document.getElementById('dice1');
            
            dice1El.classList.add('rolling');
            setTimeout(() => {
                dice1El.textContent = roll;
                dice1El.classList.remove('rolling');
                
                if (roll % 2 === 0) {
                    addLog(`üîì ${currentPlayer.name} È™∞Âà∞ ${roll}(ÈõôÊï∏)ÔºÅÈÄÉÁçÑÊàêÂäüÔºÅ`);
                    exitJail(currentPlayer);
                } else {
                    addLog(`‚ùå ${currentPlayer.name} È™∞Âà∞ ${roll}(ÂñÆÊï∏)ÔºåÈÄÉÁçÑÂ§±Êïó`);
                    advanceJailDay(currentPlayer);
                }
                
                nextTurn();
            }, 600);
        }

        // Pay bail
        function payBail() {
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            
            if (!currentPlayer.inJail) return;

            let bailAmount = 5000;
            const jail = currentPlayer.jailType;

            // Special bail amounts
            if (jail.special === 'capitalist') bailAmount = 2000;
            else if (jail.special === 'liberal') bailAmount = 3000;
            else if (jail.special === 'bazaar') bailAmount = 1500;
            else if (jail.special === 'tech') bailAmount = 2500;
            else if (jail.special === 'gold') bailAmount = 1000;

            if (currentPlayer.money >= bailAmount) {
                currentPlayer.money -= bailAmount;
                addLog(`üí∞ ${currentPlayer.name} ÊîØ‰ªò $${bailAmount} ‰øùÈáãÈáëÔºåÂá∫ÁçÑÔºÅ`);
                exitJail(currentPlayer);
                nextTurn();
            } else {
                addLog(`‚ùå ${currentPlayer.name} Èå¢‰∏çÂ§†ÔºÅÈúÄË¶Å $${bailAmount}`);
            }
        }

        // Advance jail day
        function advanceJailDay(player) {
            const jail = player.jailType;
            
            // Daily effects
            if (jail.special === 'zen') player.money += 300;
            else if (jail.special === 'welfare') player.money += 500;
            else if (jail.special === 'luxury') player.money -= 400;
            else if (jail.special === 'yoga') player.money += 400;
            else if (jail.special === 'taco') player.money -= 800;
            else if (jail.special === 'philosophy') player.money += 600;
            else if (jail.special === 'aurora') player.money += 500;
            else if (jail.special === 'wine') player.money += 700;
            
            player.jailDaysLeft--;
            
            if (player.jailDaysLeft <= 0) {
                exitJail(player);
            }
            
            updatePlayersUI();
        }

        // Exit jail
        function exitJail(player) {
            const jail = player.jailType;
            
            // Exit effects
            if (jail.special === 'gentleman') player.money += 1500;
            else if (jail.special === 'greatwall') {
                // Can teleport - for now just give bonus
                player.money += 1000;
            }
            else if (jail.special === 'outback') player.money += 1000;
            else if (jail.special === 'explorer') {
                player.position = (player.position + 3) % 40;
                updatePlayerPositions();
            }
            else if (jail.special === 'inca') player.money += 1500;
            
            player.inJail = false;
            player.jailDaysLeft = 0;
            player.jailType = null;
            
            addLog(`üéâ ${player.name} Âá∫ÁçÑ‰∫ÜÔºÅ`);
            updatePlayersUI();
        }

        // Next turn
        function nextTurn() {
            // Handle jail countdown for jailed players
            gameState.players.forEach(player => {
                if (player.inJail && player.id !== gameState.players[gameState.currentPlayerIndex].id) {
                    // Other players in jail don't get processed here
                }
            });

            gameState.currentPlayerIndex = (gameState.currentPlayerIndex + 1) % gameState.players.length;
            
            // If new current player is in jail, auto-process their day
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            if (currentPlayer.inJail) {
                advanceJailDay(currentPlayer);
            }
            
            gameState.turn++;
            updatePlayersUI();
        }

        // Add log
        function addLog(message) {
            const log = document.getElementById('gameLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.textContent = message;
            log.insertBefore(entry, log.firstChild);
            
            while (log.children.length > 30) {
                log.removeChild(log.lastChild);
            }
        }

        // Show jail info
        function showJailInfo() {
            const grid = document.getElementById('jailInfoGrid');
            grid.innerHTML = countryJails.map(jail => `
                <div class="jail-info-card">
                    <div class="flag">${jail.flag}</div>
                    <h4>${jail.country}Áõ£ÁçÑ</h4>
                    <p>${jail.desc}</p>
                </div>
            `).join('');
            
            document.getElementById('jailModal').classList.add('active');
        }

        // Close jail info
        function closeJailInfo() {
            document.getElementById('jailModal').classList.remove('active');
        }

        // Close modal on background click
        document.getElementById('jailModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeJailInfo();
            }
        });
    </script>
</body>
</html>
